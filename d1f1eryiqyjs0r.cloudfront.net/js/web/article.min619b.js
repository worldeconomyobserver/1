!function(){function e(i,t,o){function r(a,s){if(!t[a]){if(!i[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};i[a][0].call(d.exports,function(e){var t=i[a][1][e];return r(t||e)},d,d.exports,e,i,t,o)}return t[a].exports}for(var n="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}return e}()({1:[function(e,i,t){requirejs.config({waitSeconds:0,paths:{babel:js_static_path+"/libs/babel-helpers",core:js_static_path+"/core/app.min",common:js_static_path+"/web/common.min",dialog:js_static_path+"/plugins/dialog.min",jquery:js_static_path+"/libs/jquery-1.12.1.min",vhs:js_static_path+"/libs/vhs/2.117.0-1/vhs.min",slideshow_plugin:js_static_path+"/slideshow/app.min",purrCore:js_static_path+"/purr/app.min",emailSubscribe:js_static_path+"/email-subscribe-box/app.min"},shim:{core:["babel"],slideshow_plugin:["babel"],common:["babel","core","slideshow_plugin"],purrCore:["babel","common"],emailSubscribe:["babel","common"],dialog:["babel"],vhs:["jquery"]},map:{vhs:{"jquery/nyt":"jquery"}}}),requirejs(["vhs","core","common","dialog","slideshow_plugin","purrCore","emailSubscribe"],function(e){function i(){for(var e=T.dq(".hot_article .related-articles li"),i="<ol>",t=0;t<4;t++)i+="<li>"+e.eq(t).html()+"</li>";i+="</ol>";var o=i.replace(/utm_source=top10-in-article&amp;utm_medium=email&amp;utm_campaign=web/g,"utm_source=ribbon-in-article&amp;utm_medium=web&amp;utm_campaign=ribbon"),r='<div class="article-ribbon">\n                        <div class="ribbon-container">\n                            '+o+"\n                        </div>\n                    <div>";T.dq("body").append(T.dq(r));var n=T.dq(window).get(0).scrollY;T.event.on(T.dq(window),"scroll",function(){var e=T.dq(this).height()/2,i=T.dq(this).get(0),t=i.scrollY;t-n>e?(T.dq(".article-ribbon").hasClass("ribbon-hide")||T.dq(".article-ribbon").removeClass("ribbon-show").addClass("ribbon-hide"),n=t):n-t>e&&(T.dq(".article-ribbon").hasClass("ribbon-show")||T.dq(".article-ribbon").removeClass("ribbon-hide").addClass("ribbon-show"),n=t)})}var t=$(".J-vhs-cont");t.each(function(i){$(this).prop("id","vhs-player-"+i);var t=$(this).data("mp4"),o=$(this).data("webm"),r={container:"vhs-player-"+i,type:"hp-china",name:"",autoplay:!0,autopause:!0,loop:!0,muted:!0,controls:!0,env:"production",width:"100%",height:"100%",source:{"video/mp4":t,"video/webm":o},controlsOverlay:{mode:"share"}};r.comscore=!1,r.tagx=!1;var n=e.player(r);T.device.isMobile()||n.ready(function(){this.on(e.api.events.OUT_VIEWPORT,function(){this.pause()}),this.on(e.api.events.IN_VIEWPORT,function(){this.play()})})});var o=T.dq(".article-inline-photo .img-box img"),r=window.dialog;T.event.on(o,"click",function(){var e=T.dq(this).attr("data-src"),i=T.dq(this).attr("alt");new r({modal:!0,loading_spinner:!0,type:"img",close_btn:!0,img_properties:{src:e,caption:i}})});var n=T.dq(".share-btn");T.event.on(n,"click",function(){new r({modal:!0,loading_spinner:!1,type:"html",close_btn:!1,html:'<div class="share-tools-dialog">'+T.dq(".share-tools").get(0).outerHTML+"</div>"}),l()});var a=function(e){var i='<div class="overflowDiv" style="z-index:9999999999;background: rgba(250, 250, 250, 0.8);position:fixed;left:0;top:0;width:100%;height:100%;">\n            <i class="icon-spinner spin" style="font-size:64px;left:50%;top:50%;margin-left:-32px;margin-top:-32px;position:absolute;"></i>\n            <div class="qrcodeDiv" style="z-index:99999999;position:absolute;top:50%;left:50%;margin-left:-86px;margin-top:-86px;">\n                <img class="qrcode_img" style="margin: 0;width: 100%;height: 100%" src="https://d1ufrdf8zi36yr.cloudfront.net/text/?txt='+e+'" />\n            </div>\n        </div>';return i},s=function(e){e.stopPropagation();var i=T.dq(this).attr("data-url"),t=a(i);t=T.dq(t),T.dq("body").append(t)},l=function(){var e=T.dq(".JS_shareForQrcode");T.event.off(e,"click",s),T.event.on(e,"click",s)};if(l(),T.event.on(T.dq("body"),"touchstart",function(){T.dq(".overflowDiv").length>0&&T.dq(".overflowDiv").remove()}),location.href.indexOf("/dual")<0){var c=T.dq(".article-partial"),d=[];if(T.each(c,function(e){var i=T.dq(this).height();i>500&&e>0&&d.push(e)}),d.length>0){var p=T.dq("#J_hideRefer");p.appendTo(T.dq(c.eq(d[d.length-1])).find(".article-body-aside"));var h=T.dq(c.eq(d[d.length-1])).find("#J_hideRefer");h.removeClass("mobile-refer-cont").addClass("right-refer-cont");var u=h.height(),b=T.dq(c.eq(d[d.length-1])).height();h.get(0).style.marginTop=(b-u)/2+"px"}}i();var m=new PurrCore("web",".copy-footer");m.init(),emailSubscribe("#subscribe_cont")})},{}]},{},[1]);
